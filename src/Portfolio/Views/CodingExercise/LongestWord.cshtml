
@{
    ViewBag.Title = "LongestWord";
}

<h2>LongestWord</h2>

<h4>Directions:</h4>
<p>Write a function findLongestWord() that finds and displays the longest word in a selected text file.</p>
<input type="file" id="input" />
<hr />
<div id="result"></div>
<pre id="display"></pre>

@section scripts {
    <script>
        $(function () {
            var input = $('#input');
            var output = $('#display');
            var reader = new FileReader();
            var strng = "";
            var array;
            var text = "";
            var noPunc = "";
            var counter = 0;
            var collection = [];
            var result = $('#result');
            reader.onload = function (evt) {
                output.text(evt.target.result);
                text = evt.target.result;
                array = text.split(/\s+/);
                //array = text.split(" ");
                for (var i = 0; i < array.length; i++) {
                    array[i] = array[i].replace(/[.,?!,)(\s,]/g, "");
                }
                /*for (var i = 0; i < array.length; i++) {
                    if (array[i].indexOf(" ") !== -1) {
                        var n = array[i].indexOf(" ");
                        if (n > 0 && n < array[i].length - 1) {
                            var capture = array[i].slice(n, array[i].length);
                            array.splice(array[i + 1], 0, capture);
                        }
                        else {
                            array[i] = array[i].replace(" ", "");
                        }
                    }
                }*/
                for (var i = 0; i < array.length; i++) {
                    var elementLength = array[i].length;
                    var elementFirst = array[i].charAt(0);
                    var elementLast = array[i].charAt(array[i].length - 1);
                    if (elementFirst === "'") {
                        array[i].replace(array[i].charAt(0), "");
                    }
                    else if (elementLast === "'") {
                        array[i].replace(array[i].charAt(array[i].length - 1), "");
                    }
                    /*else if (array[i].length[array[i].length - 2] === "'") {
                        array[i].length[array[i].length - 2].replace(array[i].length[array[i].length - 2], "");
                    }*/
                }
                for (var i = 0; i < array.length; i++) {
                    if (collection.length === 0) {
                        collection.push(array[0]);
                    }
                    else {
                        if (array[i].length > collection[0].length) {
                            collection.splice(0, 1, array[i]);
                        }
                        else if (array[i].length === collection[0].length) {
                            collection.push(array[i]);

                        }
                    }
                }
                result.text(collection);
            };
            input.change(function (evt) {
                var file = evt.target.files[0];
                reader.readAsText(file);
            });
        });
    </script> 
}